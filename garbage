   const handleMouseDown = useCallback((e) => {
        if (e.button !== DRAG_BUTTON) return;
        const pt = ScreenToGlobal(e.clientX, e.clientY);
        const obj = getObjectUnderCursor(pt);
        selectedChanged(obj);

        if (obj) {
            if (obj.type === ObjectType.ELEMENT) {
                dragMode.current = DragMode.ELEMENT;
            } else if (obj.type === ObjectType.PIN) {

                const resultInitAStar = initAStar(obj.pinCoords);
                console.log(`resultInitAStar: ${resultInitAStar}`);
                if (resultInitAStar)
                    dragMode.current = DragMode.ROUTING;
                // console.log(`dragMode: ${dragMode.current}`);
            }
            //  else wire....

        } else  // none from above - simple canvas drag
            dragMode.current = DragMode.SCROLL;
        lastPos.current = { x: e.clientX, y: e.clientY };
    }, [ScreenToGlobal, getObjectUnderCursor, selectedChanged, initAStar]);

 const handleMouseMove = (e) => {
        const pt = ScreenToGlobal(e.clientX, e.clientY);

        const obj = getObjectUnderCursor(pt);
        hoveredChanged(obj);


        // JUST FOR DEBUG --------------------
        const canvasRect = canvasRef.current.getBoundingClientRect();
        const mp = { x: e.clientX - canvasRect.left, y: e.clientY - canvasRect.top };
        setMousePos(mp);
        setGlobalPos(pt);
        // DEBUG END -------------------------
        // console.log(`dragMode: ${dragMode.current}`);
        if (dragMode.current) {
            const dx = e.clientX - lastPos.current.x;
            const dy = e.clientY - lastPos.current.y;
            switch (dragMode.current) {
                case DragMode.SCROLL:

                    viewRef.current.x -= dx;
                    viewRef.current.y -= dy;
                    setView({ ...viewRef.current });
                    break;
                case DragMode.ELEMENT: {

                    const newElem = { ...schemaElements.elements[selectedRef.current.elementId] };
                    newElem.pos = addPoint(newElem.pos, [dx / viewRef.current.zoom, dy / viewRef.current.zoom]);
                    onElemChanged(newElem, false);
                } break;
                case DragMode.ROUTING: {
                    routeAStar(pt);

                } break;

            }
            lastPos.current = { x: e.clientX, y: e.clientY };
        }
    };
