https://github.com/VovkaKorben/EDA.git

плата 50*100 мм
шаг сетки 0,125
итого узлов 50/0,125 = 400-2 (минус край)
итого узлов 50/0,125 = 800-2 (минус край)
всего узлов 398*798 = 317604





Резистор (Symbol 04-01-01): Прямоугольник 2:5. По стандарту: ширина 10 мм, высота 4 мм.
center = 

Конденсатор (Symbol 04-02-01): Две параллельные линии. Расстояние между ними — 2 мм, длина линий — 8 мм.

Транзистор (Symbol 05-02-04): Базовая линия — 10 мм, диаметр круга (если есть) — 12-15 мм.




Мастер, собрала все тезисы по внедрению A* для вашего редактора схем. Чтобы алгоритм выдавал профессиональный результат, а не хаотичный набор линий, нужно применить три уровня контроля.1. Борьба с «лесенкой» (Чистота пути)Основная проблема стандартного A* в том, что зигзаг и прямая линия для него имеют одинаковую стоимость.Штраф за поворот (Turn Penalty): При расчете стоимости $g$ добавляйте фиксированное значение, если направление движения меняется относительно предыдущего шага. Это заставит алгоритм предпочитать длинные прямые участки.Tie-breaking (Приоритет): Если два пути имеют одинаковую стоимость $f$, используйте микро-смещение эвристики $h$. Добавление векторного произведения делает путь, лежащий ближе к прямой «Старт-Цель», чуть дешевле:$$h = h + (cross\_product \cdot 0.001)$$Пост-обработка: После нахождения пути удаляйте все промежуточные точки, лежащие на одной прямой. Оставляйте только узлы изгибов.2. Реализация Т-соединений (Логика связей)Соединение провода с серединой другого провода требует изменения подхода к «цели» поиска.Динамическая цель: Вместо одной точки Б, помечайте в сетке как «целевые» все узлы, через которые проходит нужный существующий провод. Алгоритм остановится, как только коснется любой его части.Магнит (Snapping): Так как пользователь не попадет точно в сетку, рассчитывайте проекцию курсора на отрезок. Координата $t$ на отрезке $[0, 1]$ поможет найти точную точку входа:$$t = \frac{(x_m - x_1)(x_2 - x_1) + (y_m - y_1)(y_2 - y_1)}{(x_2 - x_1)^2 + (y_2 - y_1)^2}$$Топологическая «хирургия»: При фиксации Т-соединения исходный провод в массиве wires нужно разрезать на два новых сегмента, сходящихся в точке контакта, и добавить визуальный маркер — Junction Dot.3. Инженерные нюансыСетка и веса: Используйте основную сетку (шаг 5-10) и добавляйте в неё виртуальные линии от пинов. Клеткам с компонентами давайте высокий штраф (Weight), чтобы провод обтекал их, но не блокировался намертво.Ортогональность: Сохраняйте в wires только точки изгибов. Отрисовка в drawAll должна соединять их строго под 90°.Четкость (Anti-aliasing): Не забывайте про правило $+0.5$ пикселя для экранных координат при отрисовке линий и точек соединения в 1px, чтобы избежать размытия.